# Subscription Booking Test Cases

This table-driven document captures all mentee + mentor subscription plan pairs where booking flows rely on shared limits. All verification is done through the UI (`/dashboard`, Explore mentors, booking screens, messaging flows). Fill the **Status** column with **PASS**/**FAIL** and add context to **Comments** when manual verification uncovers anything unexpected.

| Test ID | Mentee Plan         | Mentor Plan    | Scenario                           | Steps                                                                                                                                                                                                                                                                         | Expected Result                                                                                                                                            | Status | Comments                                         |
|---------|---------------------|----------------|------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------|--------|--------------------------------------------------|
| 01      | Introductory        | Silver         | Free session booking via AI search | 1. As Intro mentee open `/dashboard?section=sessions`, then trigger AI search from the subscription card; 2. Pick Silver mentor from results; 3. Book free session (default 30 mins) via the UI booking flow and confirm.                                                     | Booking succeeds without payment prompt; mentee usage shows 1 free session used in the Dashboard Usage card; mentor free quota decrements.                 | PASS   |                                                  |
| 02      | Introductory        | Silver         | Paid session booking via AI search | 1. After the free slot, book a paid slot with the same mentor via the booking modal; 2. Confirm the payment summary appears and that Mentor rate is displayed; 3. Complete the flow and check the mentee usage meter (or Supabase) for the paid counter.                      | Booking succeeds (45 mins); paid quota decrements after confirm and usage meter increments by 1.                                                           | PASS   |                                                  |
| 03      | Introductory        | Silver         | Cancellation roll-back             | 1. Navigate to Dashboard → Sessions; 2. Cancel both the booked free and paid sessions; 3. Refresh Usage card and/or query Supabase to ensure Usage tracking resets.                                                                                                           | Both mentee and mentor reflect decremented usage (back to 0), and session listings update accordingly.                                                     | PASS   |                                                  |
| 04      | Youth               | Gold           | AI search quota enforcement        | 1. Perform AI search via the subscription UI up to the plan cap; 2. Observe the UI toggle/button behavior and any upgrade prompt; 3. Attempt an extra search beyond the limit and capture the error.                                                                          | AI search stops after 10 successful appearances; the 11th click shows upgrade UI or a blocked message and usage increments until the limit.                | PASS   |                                                  |
| 05      | Youth               | Gold           | Explore booking bypass             | 1. From Explore mentors screen (not AI), select a mentor lacking paid quota; 2. Proceed through the booking modal and observe whether the UI allows booking; 3. Confirm session appears in dashboard while usage meters stay unchanged.                                       | Booking succeeds; counters unchanged (per note on `bookingSource=explore`), verifying manual booking bypass path.                                          | PASS   |                                                  |
| 06      | Professionals       | Platinum       | Free + paid capacity               | 1. Book one free session, then one paid session via the UI; 2. Continue making paid bookings until you exceed the 10–20 limit; 3. Capture the error banner on the UI when the limit hits.                                                                                     | Extra paid booking is blocked once limit reached; UI surfaces the `limit reached` message and the usage meter caps out.                                    | PASS   |                                                  |
| 07      | Professionals       | Platinum       | Counseling booking behavior        | 1. Use dashboard filters to request a counseling session (if separate CTA) or manually select Counseling in booking modal; 2. Confirm the UI shows counseling pricing; 3. Check that the plan’s paid counter increments.                                                      | Counseling session succeeds (45 mins) and paid usage increments; if counselling has separate quota, the UI should prevent further requests once exhausted. |        | Concelling booking not yet implemented           |
| 08      | Corporates          | Diamond        | Team member booking                | 1. Corporate mentee selects team owner in Dashboard; 2. Book free and paid sessions for different mentee team members via the UI; 3. Verify each user sees their own usage meters.                                                                                            | Each mentee respects own plan limits; mentors still decrement per session and dashboard reflects per-user usage.                                           |        | Team booking not yet implemented                 |
| 09      | Corporates          | Consulting Org | AI search + partner limit          | 1. Run AI search as a corporate mentee; 2. Filter for Consulting Org mentors; 3. Attempt more than 10 paid bookings per mentee via the UI flows.                                                                                                                              | Paid bookings stop after plan quota (10 sessions); partner messaging and AI search UI continue to respect entitlement (upgrade call-to-action appears).    | PASS   | Tested without Filter for Consulting Org mentors |
| 10      | Plan Selection Flow | Any mentee     | Subscription page plan selection   | 1. Visit `/dashboard?section=subscription`; 2. Review highlighted plans and CTA; 3. Click “Select Plan” on a paid tier and confirm modal or toast; 4. After selection, validate Dashboard subscription card reflects the new plan and Usage data pulls the correct plan data. | UI updates to the new plan; usage meters reset if appropriate and feature list matches plan.                                                               | PASS   |                                                  |

## Notes for testers
- Always verify both mentor and mentee usage dashboards after each booking/cancellation.  
- When experimenting with Explore bookings, pay attention to `bookingSource=explore` so feature tracking is intentionally skipped.  
- Use Supabase `subscription_usage_tracking` table queries to confirm counters before/after manual actions when debugging unexpected behavior.  
- Since we’re manually testing through the UI, rely on Dashboard toast/alert states, plan cards, usage meters, and Explore booking modals to observe the effect of each plan across mentor/mentee workflows.
